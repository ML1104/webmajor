<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Platforms</title>

    <script src="js/phaser.js"></script>
</head>

<body>
    <script>

        var config = {
            type: Phaser.AUTO,
            width: 800,
            height: 400,
            physics: {
                default: 'arcade',
                arcade: {
                    gravity: {
                        y: 300
                    },
                    debug: false
                }
            },
            scene: {
                preload: preload,
                create: create,
                // update: update
            }
        };

        var game = new Phaser.Game(config);

        function preload() {

            //  Tilemaps are split into two parts: The actual map data (usually stored in a CSV or JSON file) 
            //  and the tileset/s used to render the map.

            //  Here we'll load the tilemap data. The first parameter is a unique key for the map data.

            //  The second is a URL to the JSON file the map data is stored in. This is actually optional, you can pass the JSON object as the 3rd
            //  parameter if you already have it loaded (maybe via a 3rd party source or pre-generated). In which case pass 'null' as the URL and
            //  the JSON object as the 3rd parameter.

            //  The final one tells Phaser the format of the map data, in this case it's a JSON file exported from the Tiled map editor.
            //  This could be Phaser.Tilemap.CSV too.

            this.load.tilemapTiledJSON('jungle', 'assets/games/raid/tilemap/jungle.json');

            //  Next we load the tileset. This is just an image, loaded in via the normal way we load images:

            this.load.image('tiles', 'assets/games/raid/tilemap/jungle.png');
            this.load.image('bkg1', 'assets/games/raid/images/bkg1.png');

        }

        var map;
        var layer;

        function create() {

            // Map

            this.add.image(800, 400, 'bkg1');

            var map = this.add.tilemap('jungle');

            var terrain = map.addTilesetImage('junglery', 'tiles');

            // Layers

            var rampLayer = map.createStaticLayer('ramps', [terrain], 0, 0);
            var groundLayer = map.createStaticLayer('ground', [terrain], 0, 0);
        }

    </script>
</body>

</html>